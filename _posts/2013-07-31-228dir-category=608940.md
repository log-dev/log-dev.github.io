---
layout: post
title: "[Ubuntu] Ubuntu Apache SSL Apply"
author: "Logger"
thumbnail: "https://img1.daumcdn.net/thumb/R750x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F212507465546428430"
tags: 
---


You may have seen more secure HTTP starting with HTTPS. It is actively used abroad rather than in Korea. Replace the detailed theoretical explanation with the links below.

http://opentutorials.org/course/228/4894

http://ohgyun.com/429

![image](https://t1.daumcdn.net/cfile/tistory/212507465546428430)

### Certificate (electronic signature)

The use of electronic signatures issued by certification bodies (CA) has restrictions on money and domains. FREE There is a startssl that issues a one-year electronic signature for one domain.

When self-signed (using openssl), a warning message appears, but can be used free of charge (functionally the same, but the browser outputs an alert because the CA organization does not authenticate it).

SSL Certificate : Certificate Price Comparison and Features

### Create a self-signed certificate

Automatically installed on Ubuntu 12.04 but not installed.

```bash
sudo apt-get install openssl

```

Self-signed, so you`re a certification authority.

```bash
openssl genrsa -des3 -out server.key 2048

```

```bash
openssl req -new -days 365 -key server.key -out server.csr

```

```bash
cp server.key server.key.org
openssl rsa -in server.key.org -out server.key

```

Signing a certificate using the server private key and CSR

```bash
openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt

```

The encoding of the certificate generated by openssl is PEM (base64 encoding) unless the option is given at issue. The following changes are made to the DER format (binary) for use in Java, etc.

```bash
openssl x509 -in ca.crt -out ca.der -outform DER

```

For PEM format:

```bash
openssl x509 -in ca.crt -text

```

If the format is DER

```bash
openssl x509 -in ca.der -inform DER -text

```

### Apply Apache

Enable SSL module for Apache

```bash
sudo a2enmod ssl

```

Restart Apache

```bash
sudo service apache2 restart

```

Creating an SSL certificate directory for ease of administration

```bash
sudo mkdir /etc/apache2/ssl

```

Move the certificate file as shown below

```bash
/etc/apache2/ssl/server.crt
/etc/apache2/ssl/server.csr
/etc/apache2/ssl/server.key

```

Adjust ownership of directories and files for security purposes

```bash
sudo chown -R root:root /etc/apache2/ssl

```

Change the permissions of a file

```bash
sudo chmod 600 /etc/apache2/ssl/*.*

```

Changing the permissions of a directory

```bash
sudo chmod 700 /etc/apache2/ssl

```

VirtualHost settings

Copy the default-ssl file and change it to the domain name you want to use

```bash
sudo cp /etc/apache2/sites-available/default-ssl /etc/apache2/sites-available/example.com

```

Modify File

```bash
sudo vi /etc/apache2/sites-available/example.com

SSLEngine on
SSLCertificateFile /etc/apache2/ssl/server.crt
SSLCertificateKeyFile /etc/apache2/ssl/server.key

```

Site Activation

```bash
sudo a2ensite example.com

```

Restart Apache

```bash
sudo service apache2 restart

```

If you use a router, check port forwarding of 443 ports. If the FQDN information that you enter when you create the certificate differs from the domain information that you will actually use, an error will occur.